//kage:unit pixels

package main

var Ratio float

func Fragment(dstPos vec4, srcPos vec2, color vec4) vec4 {
	c := imageSrc0At(srcPos)
	if c.a == 0.0 {
		return vec4(0)
	}
	
	// Red tint/flash
	// We keep the alpha of the original pixel
	red := vec4(1.0, 0.0, 0.0, c.a)
	
	// Mix based on Ratio (0.0 = original, 1.0 = fully red)
	return mix(c, red, Ratio)
}
